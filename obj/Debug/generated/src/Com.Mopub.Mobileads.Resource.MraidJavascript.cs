using System;
using System.Collections.Generic;
using Android.Runtime;

namespace Com.Mopub.Mobileads.Resource {

	// Metadata.xml XPath class reference: path="/api/package[@name='com.mopub.mobileads.resource']/class[@name='MraidJavascript']"
	[global::Android.Runtime.Register ("com/mopub/mobileads/resource/MraidJavascript", DoNotGenerateAcw=true)]
	public partial class MraidJavascript : global::Java.Lang.Object {


		// Metadata.xml XPath field reference: path="/api/package[@name='com.mopub.mobileads.resource']/class[@name='MraidJavascript']/field[@name='JAVASCRIPT_SOURCE']"
		[Register ("JAVASCRIPT_SOURCE")]
		public const string JavascriptSource = (string) "(function() {\u000A  var isIOS = (/iphone|ipad|ipod/i).test(window.navigator.userAgent.toLowerCase());\u000A  if (isIOS) {\u000A    console = {};\u000A    console.log = function(log) {\u000A      var iframe = document.createElement('iframe');\u000A      iframe.setAttribute('src', 'ios-log: ' + log);\u000A      document.documentElement.appendChild(iframe);\u000A      iframe.parentNode.removeChild(iframe);\u000A      iframe = null;\u000A    };\u000A    console.debug = console.info = console.warn = console.error = console.log;\u000A  }\u000A}());\u000A\u000A\u000A(function() {\u000A  var mraid = window.mraid = {};\u000A\u000A  //////////////////////////////////////////////////////////////////////////////////////////////////\u000A\u000A  // Bridge interface to SDK\u000A\u000A  var bridge = window.mraidbridge = {\u000A    nativeSDKFiredReady: false,\u000A    nativeCallQueue: [],\u000A    nativeCallInFlight: false,\u000A    lastSizeChangeProperties: null\u000A  };\u000A\u000A\u000A  bridge.fireChangeEvent = function(properties) {\u000A    for (var p in properties) {\u000A      if (properties.hasOwnProperty(p)) {\u000A        // Change handlers defined by MRAID below\u000A        var handler = changeHandlers[p];\u000A        handler(properties[p]);\u000A      }\u000A    }\u000A  };\u000A\u000A  bridge.nativeCallComplete = function(command) {\u000A    if (this.nativeCallQueue.length === 0) {\u000A      this.nativeCallInFlight = false;\u000A      return;\u000A    }\u000A\u000A    var nextCall = this.nativeCallQueue.pop();\u000A    window.location = nextCall;\u000A  };\u000A\u000A  bridge.executeNativeCall = function(args) {\u000A    var command = args.shift();\u000A\u000A    if (!this.nativeSDKFiredReady) {\u000A        console.log('rejecting ' + command + ' because mraid is not ready');\u000A        bridge.notifyErrorEvent('mraid is not ready', command);\u000A        return;\u000A    }\u000A\u000A    var call = 'mraid://' + command;\u000A\u000A    var key, value;\u000A    var isFirstArgument = true;\u000A\u000A    for (var i = 0; i < args.length; i += 2) {\u000A      key = args[i];\u000A      value = args[i + 1];\u000A\u000A      if (value === null) continue;\u000A\u000A      if (isFirstArgument) {\u000A        call += '?';\u000A        isFirstArgument = false;\u000A      } else {\u000A        call += '&';\u000A      }\u000A\u000A      call += encodeURIComponent(key) + '=' + encodeURIComponent(value);\u000A    }\u000A\u000A    if (this.nativeCallInFlight) {\u000A      this.nativeCallQueue.push(call);\u000A    } else {\u000A      this.nativeCallInFlight = true;\u000A      window.location = call;\u000A    }\u000A  };\u000A\u000A\u000A  bridge.setCurrentPosition = function(x, y, width, height) {\u000A    currentPosition = {\u000A      x: x,\u000A      y: y,\u000A      width: width,\u000A      height: height\u000A    };\u000A    broadcastEvent(EVENTS.INFO, 'Set current position to ' + stringify(currentPosition));\u000A  };\u000A\u000A  bridge.setDefaultPosition = function(x, y, width, height) {\u000A    defaultPosition = {\u000A      x: x,\u000A      y: y,\u000A      width: width,\u000A      height: height\u000A    };\u000A    broadcastEvent(EVENTS.INFO, 'Set default position to ' + stringify(defaultPosition));\u000A  };\u000A\u000A  bridge.setMaxSize = function(width, height) {\u000A    maxSize = {\u000A      width: width,\u000A      height: height\u000A    };\u000A\u000A    expandProperties.width = width;\u000A    expandProperties.height = height;\u000A\u000A    broadcastEvent(EVENTS.INFO, 'Set max size to ' + stringify(maxSize));\u000A  };\u000A\u000A  bridge.setPlacementType = function(_placementType) {\u000A    placementType = _placementType;\u000A    broadcastEvent(EVENTS.INFO, 'Set placement type to ' + stringify(placementType));\u000A  };\u000A\u000A  bridge.setScreenSize = function(width, height) {\u000A    screenSize = {\u000A      width: width,\u000A      height: height\u000A    };\u000A    broadcastEvent(EVENTS.INFO, 'Set screen size to ' + stringify(screenSize));\u000A  };\u000A\u000A  bridge.setState = function(_state) {\u000A    state = _state;\u000A    broadcastEvent(EVENTS.INFO, 'Set state to ' + stringify(state));\u000A    broadcastEvent(EVENTS.STATECHANGE, state);\u000A  };\u000A\u000A  bridge.setIsViewable = function(_isViewable) {\u000A    isViewable = _isViewable;\u000A    broadcastEvent(EVENTS.INFO, 'Set isViewable to ' + stringify(isViewable));\u000A    broadcastEvent(EVENTS.VIEWABLECHANGE, isViewable);\u000A  };\u000A\u000A  bridge.setSupports = function(sms, tel, calendar, storePicture, inlineVideo) {\u000A    supportProperties = {\u000A      sms: sms,\u000A      tel: tel,\u000A      calendar: calendar,\u000A      storePicture: storePicture,\u000A      inlineVideo: inlineVideo\u000A    };\u000A  };\u000A\u000A  bridge.notifyReadyEvent = function() {\u000A    this.nativeSDKFiredReady = true;\u000A    broadcastEvent(EVENTS.READY);\u000A  };\u000A\u000A  bridge.notifyErrorEvent = function(message, action) {\u000A    broadcastEvent(EVENTS.ERROR, message, action);\u000A  };\u000A\u000A  // Temporary aliases while we migrate to the new API\u000A  bridge.fireReadyEvent = bridge.notifyReadyEvent;\u000A  bridge.fireErrorEvent = bridge.notifyErrorEvent;\u000A\u000A  bridge.notifySizeChangeEvent = function(width, height) {\u000A    if (this.lastSizeChangeProperties &&\u000A          width == this.lastSizeChangeProperties.width && height == this.lastSizeChangeProperties.height) {\u000A      return;\u000A    }\u000A\u000A    this.lastSizeChangeProperties = {\u000A        width: width,\u000A        height: height\u000A    };\u000A    broadcastEvent(EVENTS.SIZECHANGE, width, height);\u000A  };\u000A\u000A  bridge.notifyStateChangeEvent = function() {\u000A    if (state === STATES.LOADING) {\u000A      broadcastEvent(EVENTS.INFO, 'Native SDK initialized.');\u000A    }\u000A\u000A    broadcastEvent(EVENTS.INFO, 'Set state to ' + stringify(state));\u000A    broadcastEvent(EVENTS.STATECHANGE, state);\u000A  };\u000A\u000A  bridge.notifyViewableChangeEvent = function() {\u000A    broadcastEvent(EVENTS.INFO, 'Set isViewable to ' + stringify(isViewable));\u000A    broadcastEvent(EVENTS.VIEWABLECHANGE, isViewable);\u000A  };\u000A\u000A\u000A  // Constants. ////////////////////////////////////////////////////////////////////////////////////\u000A\u000A  var VERSION = mraid.VERSION = '2.0';\u000A\u000A  var STATES = mraid.STATES = {\u000A    LOADING: 'loading',\u000A    DEFAULT: 'default',\u000A    EXPANDED: 'expanded',\u000A    HIDDEN: 'hidden',\u000A    RESIZED: 'resized'\u000A  };\u000A\u000A  var EVENTS = mraid.EVENTS = {\u000A    ERROR: 'error',\u000A    INFO: 'info',\u000A    READY: 'ready',\u000A    STATECHANGE: 'stateChange',\u000A    VIEWABLECHANGE: 'viewableChange',\u000A    SIZECHANGE: 'sizeChange'\u000A  };\u000A\u000A  var PLACEMENT_TYPES = mraid.PLACEMENT_TYPES = {\u000A    UNKNOWN: 'unknown',\u000A    INLINE: 'inline',\u000A    INTERSTITIAL: 'interstitial'\u000A  };\u000A\u000A  // External MRAID state: may be directly or indirectly modified by the ad JS. ////////////////////\u000A\u000A  // Properties which define the behavior of an expandable ad.\u000A  var expandProperties = {\u000A    width: false,\u000A    height: false,\u000A    useCustomClose: false,\u000A    isModal: true\u000A  };\u000A\u000A  var resizeProperties = {\u000A    width: false,\u000A    height: false,\u000A    offsetX: false,\u000A    offsetY: false,\u000A    customClosePosition: 'top-right',\u000A    allowOffscreen: true\u000A  };\u000A\u000A  var orientationProperties = {\u000A    allowOrientationChange: true,\u000A    forceOrientation: \"none\"\u000A  };\u000A\u000A  var supportProperties = {\u000A    sms: false,\u000A    tel: false,\u000A    calendar: false,\u000A    storePicture: false,\u000A    inlineVideo: false\u000A  };\u000A\u000A  // default is undefined so that notifySizeChangeEvent can track changes\u000A  var lastSizeChangeProperties;\u000A\u000A  var maxSize = {};\u000A\u000A  var currentPosition = {};\u000A\u000A  var defaultPosition = {};\u000A\u000A  var screenSize = {};\u000A\u000A  var hasSetCustomClose = false;\u000A\u000A  var listeners = {};\u000A\u000A  // Internal MRAID state. Modified by the native SDK. /////////////////////////////////////////////\u000A\u000A  var state = STATES.LOADING;\u000A\u000A  var isViewable = false;\u000A\u000A  var placementType = PLACEMENT_TYPES.UNKNOWN;\u000A\u000A  //////////////////////////////////////////////////////////////////////////////////////////////////\u000A\u000A  var EventListeners = function(event) {\u000A    this.event = event;\u000A    this.count = 0;\u000A    var listeners = {};\u000A\u000A    this.add = function(func) {\u000A      var id = String(func);\u000A      if (!listeners[id]) {\u000A        listeners[id] = func;\u000A        this.count++;\u000A      }\u000A    };\u000A\u000A    this.remove = function(func) {\u000A      var id = String(func);\u000A      if (listeners[id]) {\u000A        listeners[id] = null;\u000A        delete listeners[id];\u000A        this.count--;\u000A        return true;\u000A      } else {\u000A        return false;\u000A      }\u000A    };\u000A\u000A    this.removeAll = function() {\u000A      for (var id in listeners) {\u000A        if (listeners.hasOwnProperty(id)) this.remove(listeners[id]);\u000A      }\u000A    };\u000A\u000A    this.broadcast = function(args) {\u000A      for (var id in listeners) {\u000A        if (listeners.hasOwnProperty(id)) listeners[id].apply(mraid, args);\u000A      }\u000A    };\u000A\u000A    this.toString = function() {\u000A      var out = [event, ':'];\u000A      for (var id in listeners) {\u000A        if (listeners.hasOwnProperty(id)) out.push('|', id, '|');\u000A      }\u000A      return out.join('');\u000A    };\u000A  };\u000A\u000A  var broadcastEvent = function() {\u000A    var args = new Array(arguments.length);\u000A    var l = arguments.length;\u000A    for (var i = 0; i < l; i++) args[i] = arguments[i];\u000A    var event = args.shift();\u000A    if (listeners[event]) listeners[event].broadcast(args);\u000A  };\u000A\u000A  var contains = function(value, array) {\u000A    for (var i in array) {\u000A      if (array[i] === value) return true;\u000A    }\u000A    return false;\u000A  };\u000A\u000A  var clone = function(obj) {\u000A    if (obj === null) return null;\u000A    var f = function() {};\u000A    f.prototype = obj;\u000A    return new f();\u000A  };\u000A\u000A  var stringify = function(obj) {\u000A    if (typeof obj === 'object') {\u000A      var out = [];\u000A      if (obj.push) {\u000A        // Array.\u000A        for (var p in obj) out.push(obj[p]);\u000A        return '[' + out.join(',') + ']';\u000A      } else {\u000A        // Other object.\u000A        for (var p in obj) out.push(\"'\" + p + \"': \" + obj[p]);\u000A        return '{' + out.join(',') + '}';\u000A      }\u000A    } else return String(obj);\u000A  };\u000A\u000A  var trim = function(str) {\u000A    return str.replace(/^\\s+|\\s+$/g, '');\u000A  };\u000A\u000A  // Functions that will be invoked by the native SDK whenever a \"change\" event occurs.\u000A  var changeHandlers = {\u000A    state: function(val) {\u000A      if (state === STATES.LOADING) {\u000A        broadcastEvent(EVENTS.INFO, 'Native SDK initialized.');\u000A      }\u000A      state = val;\u000A      broadcastEvent(EVENTS.INFO, 'Set state to ' + stringify(val));\u000A      broadcastEvent(EVENTS.STATECHANGE, state);\u000A    },\u000A\u000A    viewable: function(val) {\u000A      isViewable = val;\u000A      broadcastEvent(EVENTS.INFO, 'Set isViewable to ' + stringify(val));\u000A      broadcastEvent(EVENTS.VIEWABLECHANGE, isViewable);\u000A    },\u000A\u000A    placementType: function(val) {\u000A      broadcastEvent(EVENTS.INFO, 'Set placementType to ' + stringify(val));\u000A      placementType = val;\u000A    },\u000A\u000A    sizeChange: function(val) {\u000A      broadcastEvent(EVENTS.INFO, 'Set screenSize to ' + stringify(val));\u000A      for (var key in val) {\u000A        if (val.hasOwnProperty(key)) screenSize[key] = val[key];\u000A      }\u000A    },\u000A\u000A    supports: function(val) {\u000A      broadcastEvent(EVENTS.INFO, 'Set supports to ' + stringify(val));\u000A        supportProperties = val;\u000A    }\u000A  };\u000A\u000A  var validate = function(obj, validators, action, merge) {\u000A    if (!merge) {\u000A      // Check to see if any required properties are missing.\u000A      if (obj === null) {\u000A        broadcastEvent(EVENTS.ERROR, 'Required object not provided.', action);\u000A        return false;\u000A      } else {\u000A        for (var i in validators) {\u000A          if (validators.hasOwnProperty(i) && obj[i] === undefined) {\u000A            broadcastEvent(EVENTS.ERROR, 'Object is missing required property: ' + i, action);\u000A            return false;\u000A          }\u000A        }\u000A      }\u000A    }\u000A\u000A    for (var prop in obj) {\u000A      var validator = validators[prop];\u000A      var value = obj[prop];\u000A      if (validator && !validator(value)) {\u000A        // Failed validation.\u000A        broadcastEvent(EVENTS.ERROR, 'Value of property ' + prop + ' is invalid: ' + value, action);\u000A        return false;\u000A      }\u000A    }\u000A    return true;\u000A  };\u000A\u000A  var expandPropertyValidators = {\u000A    useCustomClose: function(v) { return (typeof v === 'boolean'); },\u000A  };\u000A\u000A  //////////////////////////////////////////////////////////////////////////////////////////////////\u000A\u000A  mraid.addEventListener = function(event, listener) {\u000A    if (!event || !listener) {\u000A      broadcastEvent(EVENTS.ERROR, 'Both event and listener are required.', 'addEventListener');\u000A    } else if (!contains(event, EVENTS)) {\u000A      broadcastEvent(EVENTS.ERROR, 'Unknown MRAID event: ' + event, 'addEventListener');\u000A    } else {\u000A      if (!listeners[event]) {\u000A        listeners[event] = new EventListeners(event);\u000A      }\u000A      listeners[event].add(listener);\u000A    }\u000A  };\u000A\u000A  mraid.close = function() {\u000A    if (state === STATES.HIDDEN) {\u000A      broadcastEvent(EVENTS.ERROR, 'Ad cannot be closed when it is already hidden.',\u000A        'close');\u000A    } else bridge.executeNativeCall(['close']);\u000A  };\u000A\u000A  mraid.expand = function(URL) {\u000A    if (!(this.getState() === STATES.DEFAULT || this.getState() === STATES.RESIZED)) {\u000A      broadcastEvent(EVENTS.ERROR, 'Ad can only be expanded from the default or resized state.', 'expand');\u000A    } else {\u000A      var args = ['expand',\u000A        'shouldUseCustomClose', expandProperties.useCustomClose\u000A      ];\u000A\u000A      if (URL) {\u000A        args = args.concat(['url', URL]);\u000A      }\u000A\u000A      bridge.executeNativeCall(args);\u000A    }\u000A  };\u000A\u000A  mraid.getExpandProperties = function() {\u000A    var properties = {\u000A      width: expandProperties.width,\u000A      height: expandProperties.height,\u000A      useCustomClose: expandProperties.useCustomClose,\u000A      isModal: expandProperties.isModal\u000A    };\u000A    return properties;\u000A  };\u000A\u000A\u000A  mraid.getCurrentPosition = function() {\u000A    return {\u000A      x: currentPosition.x,\u000A      y: currentPosition.y,\u000A      width: currentPosition.width,\u000A      height: currentPosition.height\u000A    };\u000A  };\u000A\u000A  mraid.getDefaultPosition = function() {\u000A    return {\u000A      x: defaultPosition.x,\u000A      y: defaultPosition.y,\u000A      width: defaultPosition.width,\u000A      height: defaultPosition.height\u000A    };\u000A  };\u000A\u000A  mraid.getMaxSize = function() {\u000A    return {\u000A      width: maxSize.width,\u000A      height: maxSize.height\u000A    };\u000A  };\u000A\u000A  mraid.getPlacementType = function() {\u000A    return placementType;\u000A  };\u000A\u000A  mraid.getScreenSize = function() {\u000A    return {\u000A      width: screenSize.width,\u000A      height: screenSize.height\u000A    };\u000A  };\u000A\u000A  mraid.getState = function() {\u000A    return state;\u000A  };\u000A\u000A  mraid.isViewable = function() {\u000A    return isViewable;\u000A  };\u000A\u000A  mraid.getVersion = function() {\u000A    return mraid.VERSION;\u000A  };\u000A\u000A  mraid.open = function(URL) {\u000A    if (!URL) broadcastEvent(EVENTS.ERROR, 'URL is required.', 'open');\u000A    else bridge.executeNativeCall(['open', 'url', URL]);\u000A  };\u000A\u000A  mraid.removeEventListener = function(event, listener) {\u000A    if (!event) {\u000A      broadcastEvent(EVENTS.ERROR, 'Event is required.', 'removeEventListener');\u000A      return;\u000A    }\u000A\u000A    if (listener) {\u000A      // If we have a valid event, we'll try to remove the listener from it.\u000A      var success = false;\u000A      if (listeners[event]) {\u000A        success = listeners[event].remove(listener);\u000A      }\u000A\u000A      // If we didn't have a valid event or couldn't remove the listener from the event, broadcast an error and return early.\u000A      if (!success) {\u000A        broadcastEvent(EVENTS.ERROR, 'Listener not currently registered for event.', 'removeEventListener');\u000A        return;\u000A      }\u000A\u000A    } else if (!listener && listeners[event]) {\u000A      listeners[event].removeAll();\u000A    }\u000A\u000A    if (listeners[event] && listeners[event].count === 0) {\u000A      listeners[event] = null;\u000A      delete listeners[event];\u000A    }\u000A  };\u000A\u000A  mraid.setExpandProperties = function(properties) {\u000A    if (validate(properties, expandPropertyValidators, 'setExpandProperties', true)) {\u000A      if (properties.hasOwnProperty('useCustomClose')) {\u000A        expandProperties.useCustomClose = properties.useCustomClose;\u000A      }\u000A    }\u000A  };\u000A\u000A  mraid.useCustomClose = function(shouldUseCustomClose) {\u000A    expandProperties.useCustomClose = shouldUseCustomClose;\u000A    hasSetCustomClose = true;\u000A    bridge.executeNativeCall(['usecustomclose', 'shouldUseCustomClose', shouldUseCustomClose]);\u000A  };\u000A\u000A  // MRAID 2.0 APIs ////////////////////////////////////////////////////////////////////////////////\u000A\u000A  mraid.createCalendarEvent = function(parameters) {\u000A    CalendarEventParser.initialize(parameters);\u000A    if (CalendarEventParser.parse()) {\u000A      bridge.executeNativeCall(CalendarEventParser.arguments);\u000A    } else {\u000A      broadcastEvent(EVENTS.ERROR, CalendarEventParser.errors[0], 'createCalendarEvent');\u000A    }\u000A  };\u000A\u000A  mraid.supports = function(feature) {\u000A    return supportProperties[feature];\u000A  };\u000A\u000A  mraid.playVideo = function(uri) {\u000A    if (!mraid.isViewable()) {\u000A      broadcastEvent(EVENTS.ERROR, 'playVideo cannot be called until the ad is viewable', 'playVideo');\u000A      return;\u000A    }\u000A\u000A    if (!uri) {\u000A      broadcastEvent(EVENTS.ERROR, 'playVideo must be called with a valid URI', 'playVideo');\u000A    } else {\u000A      bridge.executeNativeCall(['playVideo', 'uri', uri]);\u000A    }\u000A  };\u000A\u000A  mraid.storePicture = function(uri) {\u000A    if (!mraid.isViewable()) {\u000A      broadcastEvent(EVENTS.ERROR, 'storePicture cannot be called until the ad is viewable', 'storePicture');\u000A      return;\u000A    }\u000A\u000A    if (!uri) {\u000A      broadcastEvent(EVENTS.ERROR, 'storePicture must be called with a valid URI', 'storePicture');\u000A    } else {\u000A      bridge.executeNativeCall(['storePicture', 'uri', uri]);\u000A    }\u000A  };\u000A\u000A\u000A  var resizePropertyValidators = {\u000A    width: function(v) {\u000A      return !isNaN(v) && v > 0;\u000A    },\u000A    height: function(v) {\u000A      return !isNaN(v) && v > 0;\u000A    },\u000A    offsetX: function(v) {\u000A      return !isNaN(v);\u000A    },\u000A    offsetY: function(v) {\u000A      return !isNaN(v);\u000A    },\u000A    customClosePosition: function(v) {\u000A      return (typeof v === 'string' &&\u000A        ['top-right', 'bottom-right', 'top-left', 'bottom-left', 'center', 'top-center', 'bottom-center'].indexOf(v) > -1);\u000A    },\u000A    allowOffscreen: function(v) {\u000A      return (typeof v === 'boolean');\u000A    }\u000A  };\u000A\u000A  mraid.setOrientationProperties = function(properties) {\u000A\u000A    if (properties.hasOwnProperty('allowOrientationChange')) {\u000A      orientationProperties.allowOrientationChange = properties.allowOrientationChange;\u000A    }\u000A\u000A    if (properties.hasOwnProperty('forceOrientation')) {\u000A      orientationProperties.forceOrientation = properties.forceOrientation;\u000A    }\u000A\u000A    var args = ['setOrientationProperties',\u000A      'allowOrientationChange', orientationProperties.allowOrientationChange,\u000A      'forceOrientation', orientationProperties.forceOrientation\u000A    ];\u000A    bridge.executeNativeCall(args);\u000A  };\u000A\u000A  mraid.getOrientationProperties = function() {\u000A    return {\u000A      allowOrientationChange: orientationProperties.allowOrientationChange,\u000A      forceOrientation: orientationProperties.forceOrientation\u000A    };\u000A  };\u000A\u000A  mraid.resize = function() {\u000A    if (!(this.getState() === STATES.DEFAULT || this.getState() === STATES.RESIZED)) {\u000A      broadcastEvent(EVENTS.ERROR, 'Ad can only be resized from the default or resized state.', 'resize');\u000A    } else if (!resizeProperties.width || !resizeProperties.height) {\u000A      broadcastEvent(EVENTS.ERROR, 'Must set resize properties before calling resize()', 'resize');\u000A    } else {\u000A      var args = ['resize',\u000A        'width', resizeProperties.width,\u000A        'height', resizeProperties.height,\u000A        'offsetX', resizeProperties.offsetX || 0,\u000A        'offsetY', resizeProperties.offsetY || 0,\u000A        'customClosePosition', resizeProperties.customClosePosition,\u000A        'allowOffscreen', !!resizeProperties.allowOffscreen\u000A        ];\u000A\u000A      bridge.executeNativeCall(args);\u000A    }\u000A  };\u000A\u000A  mraid.getResizeProperties = function() {\u000A    var properties = {\u000A      width: resizeProperties.width,\u000A      height: resizeProperties.height,\u000A      offsetX: resizeProperties.offsetX,\u000A      offsetY: resizeProperties.offsetY,\u000A      customClosePosition: resizeProperties.customClosePosition,\u000A      allowOffscreen: resizeProperties.allowOffscreen\u000A    };\u000A    return properties;\u000A  };\u000A\u000A  mraid.setResizeProperties = function(properties) {\u000A    if (validate(properties, resizePropertyValidators, 'setResizeProperties', true)) {\u000A\u000A      var desiredProperties = ['width', 'height', 'offsetX', 'offsetY', 'customClosePosition', 'allowOffscreen'];\u000A\u000A      var length = desiredProperties.length;\u000A\u000A      for (var i = 0; i < length; i++) {\u000A        var propname = desiredProperties[i];\u000A        if (properties.hasOwnProperty(propname)) {\u000A          resizeProperties[propname] = properties[propname];\u000A        }\u000A      }\u000A    }\u000A  };\u000A\u000A  var CalendarEventParser = {\u000A    initialize: function(parameters) {\u000A      this.parameters = parameters;\u000A      this.errors = [];\u000A      this.arguments = ['createCalendarEvent'];\u000A    },\u000A\u000A    parse: function() {\u000A      if (!this.parameters) {\u000A        this.errors.push('The object passed to createCalendarEvent cannot be null.');\u000A      } else {\u000A        this.parseDescription();\u000A        this.parseLocation();\u000A        this.parseSummary();\u000A        this.parseStartAndEndDates();\u000A        this.parseReminder();\u000A        this.parseRecurrence();\u000A        this.parseTransparency();\u000A      }\u000A\u000A      var errorCount = this.errors.length;\u000A      if (errorCount) {\u000A        this.arguments.length = 0;\u000A      }\u000A\u000A      return (errorCount === 0);\u000A    },\u000A\u000A    parseDescription: function() {\u000A      this._processStringValue('description');\u000A    },\u000A\u000A    parseLocation: function() {\u000A      this._processStringValue('location');\u000A    },\u000A\u000A    parseSummary: function() {\u000A      this._processStringValue('summary');\u000A    },\u000A\u000A    parseStartAndEndDates: function() {\u000A      this._processDateValue('start');\u000A      this._processDateValue('end');\u000A    },\u000A\u000A    parseReminder: function() {\u000A      var reminder = this._getParameter('reminder');\u000A      if (!reminder) {\u000A        return;\u000A      }\u000A\u000A      if (reminder < 0) {\u000A        this.arguments.push('relativeReminder');\u000A        this.arguments.push(parseInt(reminder) / 1000);\u000A      } else {\u000A        this.arguments.push('absoluteReminder');\u000A        this.arguments.push(reminder);\u000A      }\u000A    },\u000A\u000A    parseRecurrence: function() {\u000A      var recurrenceDict = this._getParameter('recurrence');\u000A      if (!recurrenceDict) {\u000A        return;\u000A      }\u000A\u000A      this.parseRecurrenceInterval(recurrenceDict);\u000A      this.parseRecurrenceFrequency(recurrenceDict);\u000A      this.parseRecurrenceEndDate(recurrenceDict);\u000A      this.parseRecurrenceArrayValue(recurrenceDict, 'daysInWeek');\u000A      this.parseRecurrenceArrayValue(recurrenceDict, 'daysInMonth');\u000A      this.parseRecurrenceArrayValue(recurrenceDict, 'daysInYear');\u000A      this.parseRecurrenceArrayValue(recurrenceDict, 'monthsInYear');\u000A    },\u000A\u000A    parseTransparency: function() {\u000A      var validValues = ['opaque', 'transparent'];\u000A\u000A      if (this.parameters.hasOwnProperty('transparency')) {\u000A        var transparency = this.parameters.transparency;\u000A        if (contains(transparency, validValues)) {\u000A          this.arguments.push('transparency');\u000A          this.arguments.push(transparency);\u000A        } else {\u000A          this.errors.push('transparency must be opaque or transparent');\u000A        }\u000A      }\u000A    },\u000A\u000A    parseRecurrenceArrayValue: function(recurrenceDict, kind) {\u000A      if (recurrenceDict.hasOwnProperty(kind)) {\u000A        var array = recurrenceDict[kind];\u000A        if (!array || !(array instanceof Array)) {\u000A          this.errors.push(kind + ' must be an array.');\u000A        } else {\u000A          var arrayStr = array.join(',');\u000A          this.arguments.push(kind);\u000A          this.arguments.push(arrayStr);\u000A        }\u000A      }\u000A    },\u000A\u000A    parseRecurrenceInterval: function(recurrenceDict) {\u000A      if (recurrenceDict.hasOwnProperty('interval')) {\u000A        var interval = recurrenceDict.interval;\u000A        if (!interval) {\u000A          this.errors.push('Recurrence interval cannot be null.');\u000A        } else {\u000A          this.arguments.push('interval');\u000A          this.arguments.push(interval);\u000A        }\u000A      } else {\u000A        // If a recurrence rule was specified without an interval, use a default value of 1.\u000A        this.arguments.push('interval');\u000A        this.arguments.push(1);\u000A      }\u000A    },\u000A\u000A    parseRecurrenceFrequency: function(recurrenceDict) {\u000A      if (recurrenceDict.hasOwnProperty('frequency')) {\u000A        var frequency = recurrenceDict.frequency;\u000A        var validFrequencies = ['daily', 'weekly', 'monthly', 'yearly'];\u000A        if (contains(frequency, validFrequencies)) {\u000A          this.arguments.push('frequency');\u000A          this.arguments.push(frequency);\u000A        } else {\u000A          this.errors.push('Recurrence frequency must be one of: \"daily\", \"weekly\", \"monthly\", \"yearly\".');\u000A        }\u000A      }\u000A    },\u000A\u000A    parseRecurrenceEndDate: function(recurrenceDict) {\u000A      var expires = recurrenceDict.expires;\u000A\u000A      if (!expires) {\u000A        return;\u000A      }\u000A\u000A      this.arguments.push('expires');\u000A      this.arguments.push(expires);\u000A    },\u000A\u000A    _getParameter: function(key) {\u000A      if (this.parameters.hasOwnProperty(key)) {\u000A        return this.parameters[key];\u000A      }\u000A\u000A      return null;\u000A    },\u000A\u000A    _processStringValue: function(kind) {\u000A      if (this.parameters.hasOwnProperty(kind)) {\u000A        var value = this.parameters[kind];\u000A        this.arguments.push(kind);\u000A        this.arguments.push(value);\u000A      }\u000A    },\u000A\u000A    _processDateValue: function(kind) {\u000A      if (this.parameters.hasOwnProperty(kind)) {\u000A        var dateString = this._getParameter(kind);\u000A        this.arguments.push(kind);\u000A        this.arguments.push(dateString);\u000A      }\u000A    }\u000A  };\u000A}());\u000A";
		internal static IntPtr java_class_handle;
		internal static IntPtr class_ref {
			get {
				return JNIEnv.FindClass ("com/mopub/mobileads/resource/MraidJavascript", ref java_class_handle);
			}
		}

		protected override IntPtr ThresholdClass {
			get { return class_ref; }
		}

		protected override global::System.Type ThresholdType {
			get { return typeof (MraidJavascript); }
		}

		protected MraidJavascript (IntPtr javaReference, JniHandleOwnership transfer) : base (javaReference, transfer) {}

		static IntPtr id_ctor;
		// Metadata.xml XPath constructor reference: path="/api/package[@name='com.mopub.mobileads.resource']/class[@name='MraidJavascript']/constructor[@name='MraidJavascript' and count(parameter)=0]"
		[Register (".ctor", "()V", "")]
		public unsafe MraidJavascript ()
			: base (IntPtr.Zero, JniHandleOwnership.DoNotTransfer)
		{
			if (Handle != IntPtr.Zero)
				return;

			try {
				if (GetType () != typeof (MraidJavascript)) {
					SetHandle (
							global::Android.Runtime.JNIEnv.StartCreateInstance (GetType (), "()V"),
							JniHandleOwnership.TransferLocalRef);
					global::Android.Runtime.JNIEnv.FinishCreateInstance (Handle, "()V");
					return;
				}

				if (id_ctor == IntPtr.Zero)
					id_ctor = JNIEnv.GetMethodID (class_ref, "<init>", "()V");
				SetHandle (
						global::Android.Runtime.JNIEnv.StartCreateInstance (class_ref, id_ctor),
						JniHandleOwnership.TransferLocalRef);
				JNIEnv.FinishCreateInstance (Handle, class_ref, id_ctor);
			} finally {
			}
		}

	}
}
